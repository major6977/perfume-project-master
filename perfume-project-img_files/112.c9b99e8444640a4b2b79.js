(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{1160:function(t,e,i){"use strict";i.r(e);var a=i(17),o={name:"BasicMediaBlockView",components:{BlockMediaView:i(471).a},props:{block:a.y}},s=i(0),n=Object(s.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("block-media-view",{attrs:{block:this.block,"media-id":this.block.content.mediaId,"prevent-lazy-load":0===this.block.position}})}),[],!1,null,null,null);e.default=n.exports},400:function(t,e,i){"use strict";var a={name:"VImg",props:{refId:{type:[Number,String],required:!1,default:""},src:{type:String,default:null},altImageText:{type:String,default:null},srcset:{type:String,default:null},dataSrc:{type:String,default:null},dataSrcset:{type:String,default:null},dataAspectRatio:{type:Number,default:null},isLazyLoaded:{type:Boolean,default:!1},sizes:{type:String,default:null}},mounted:function(){this.isLazyLoaded&&this.$el.classList.add("lazyload")},methods:{emitImageLoad:function(t){this.$emit("image-load",{id:this.refId,el:t.target})}}},o=i(0),s=Object(o.a)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("img",{staticClass:"v-img",attrs:{"data-test":"v-img",src:t.src,alt:t.altImageText,srcset:t.srcset,"data-src":t.isLazyLoaded&&t.dataSrc,"data-srcset":t.isLazyLoaded&&t.dataSrcset,"data-sizes":t.isLazyLoaded?"auto":null,"data-aspectratio":t.isLazyLoaded&&t.dataAspectRatio,sizes:!t.isLazyLoaded&&t.sizes,draggable:!1},on:{load:t.emitImageLoad}})}),[],!1,null,null,null);e.a=s.exports},469:function(t,e,i){"use strict";var a=i(21),o="native",s="custom",n={name:"VVideo",components:{Icon:a.default},props:{refId:{type:[Number,String],required:!1,default:""},src:{type:String,required:!0},playsInline:{type:Boolean,default:!0},isLooped:{type:Boolean,default:!1},shouldPlay:{type:Boolean,default:!1},shouldAutoplay:{type:Boolean,default:!1},videoClass:{type:String,default:""},controlType:{type:String,default:s,validator:function(t){return[s,o].includes(t)}},shouldToggleMuteOnVideoClick:{type:Boolean,default:!1},shouldUseCustomProgressBar:{type:Boolean,default:!1}},data:function(){return{hasAudio:!1,isMuted:!0,videoProgress:0,tooltipOptions:{placement:"bottom",duration:[0,0],arrow:!0,arrowTransform:"scale(0.75)",hideOnClick:!1},CUSTOM_CONTROLS:s}},computed:{shouldUseNativeControls:function(){return this.controlType===o}},watch:{shouldPlay:{handler:function(t){var e=this.$refs.video;t?e.play():e.pause()}}},mounted:function(){this.$refs.video&&(this.videoRef=this.$refs.video)},methods:{toggleMute:function(){this.isMuted=!this.isMuted},updateProgressBar:function(){var t=this.$refs,e=t.video,i=t.progressBar;if(e&&i){var a=e.currentTime/e.duration*100;this.videoProgress=a}},scrubVideo:function(t){var e=this.$refs,i=e.video,a=e.progressBarContainer;if(i&&a){var o=t.offsetX/a.offsetWidth*i.duration;i.currentTime=o}},setHasAudio:function(){var t=this.$refs.video;this.hasAudio=t.mozHasAudio||Boolean(t.webkitAudioDecodedByteCount)||Boolean(t.audioTracks&&t.audioTracks.length)},onLoadedData:function(t){this.$emit("video-load",{id:this.refId,el:t.target})}}},r=(i(673),i(0)),d=Object(r.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-video",on:{click:function(e){t.shouldToggleMuteOnVideoClick&&t.controlType===t.CUSTOM_CONTROLS&&t.toggleMute()}}},[i("video",{ref:"video",class:t.videoClass,attrs:{"data-test":"video-content",src:t.src,playsinline:t.playsInline,loop:t.isLooped,autoplay:t.shouldAutoplay,controls:t.shouldUseNativeControls,draggable:!1},domProps:{muted:t.isMuted},on:{play:t.setHasAudio,timeupdate:t.updateProgressBar,loadeddata:t.onLoadedData}}),t._v(" "),t.shouldUseCustomProgressBar&&t.controlType===t.CUSTOM_CONTROLS?i("div",{ref:"progressBarContainer",staticClass:"progress-bar-container",attrs:{"data-test-id":"progress-bar-container"},on:{click:function(e){return e.stopPropagation(),t.scrubVideo.apply(null,arguments)}}},[i("div",{ref:"progressBar",staticClass:"progress-bar",style:{transform:"translateX("+t.videoProgress+"%)"},attrs:{"data-test-id":"progress-bar"}})]):t._e(),t._v(" "),t.controlType===t.CUSTOM_CONTROLS&&t.hasAudio?i("div",{staticClass:"mute-toggle-wrapper",attrs:{"data-test":"mute-toggle-button"},on:{click:function(e){return e.stopPropagation(),t.toggleMute.apply(null,arguments)}}},[t.isMuted?i("div",{directives:[{name:"tippy",rawName:"v-tippy",value:t.tooltipOptions,expression:"tooltipOptions"}],staticClass:"toggle-button",attrs:{"data-test":"unmute-button",title:"Turn audio on"}},[i("icon",{attrs:{"svg-class":"mute-icon",type:"volumeMute"}})],1):i("div",{directives:[{name:"tippy",rawName:"v-tippy",value:t.tooltipOptions,expression:"tooltipOptions"}],staticClass:"toggle-button",attrs:{"data-test":"mute-button",title:"Turn audio off"}},[i("icon",{attrs:{"svg-class":"mute-icon",type:"volumeHigh"}})],1)]):t._e()])}),[],!1,null,"ceb97916",null);e.a=d.exports},470:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return r}));var a=i(92),o=[300,400,600,800,1e3,1200,1600,2400],s=function(t){var e=t.mediaUrl,i=t.compress,o=void 0===i?1:i,s=t.width,n=t.height,r=void 0===n?"":n;return Object(a.a)(e,{compress:o,resize:"".concat(s,"x").concat(r)})},n=function(t){var e=t.mediaUrl,i=t.compress,o=void 0===i?1:i,s=t.appendHeight,n=void 0!==s&&s;return decodeURIComponent(Object(a.a)(e,{compress:o,resize:n?"{width}x{height}":"{width}x",vertical:"center"}))},r=function(t){var e=t.mediaUrl,i=t.widths,a=t.aspectRatio,o=t.compress,n=void 0===o?1:o;return e?i.map((function(t){var i=Math.round(t/a),o=s({mediaUrl:e,compress:n,width:t,height:i});return"".concat(o," ").concat(t,"w")})).join(", "):""}},471:function(t,e,i){"use strict";var a=i(582),o=i.n(a),s=i(94),n=i(17),r=i(470),d={name:"MediaSkeletonProvider",props:{isLoaded:{type:Boolean,default:!1},aspectRatio:{type:String,default:"auto"}}},l=(i(675),i(0)),c=Object(l.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-skeleton-wrapper",class:[this.isLoaded?"loaded":"loading"],style:{aspectRatio:this.aspectRatio}},[[this._t("default")],this._v(" "),e("div",{staticClass:"skeleton-container skeleton-template animate-translate"})],2)}),[],!1,null,"6751b68c",null).exports,u=i(400),p=i(469);function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){m(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var v={name:"BlockMediaView",components:{Observer:o.a,MediaSkeletonProvider:c,VImg:u.a,VVideo:p.a},props:{block:n.y,mediaId:{type:[String,null],default:null},isEditing:{type:Boolean,default:!1},aspectRatio:{type:[Number,null],default:null},objectFit:{type:String,default:n.l,validator:function(t){return n.N.includes(t)}},contentObject:n.z,isStillVideo:{type:Boolean,default:!1},preventLazyLoad:{type:Boolean,default:!1}},data:function(){return{MEDIA_IMAGE_TYPE:s.b,MEDIA_VIDEO_TYPE:s.c,isMounted:!1,isMediaLoaded:!1,isVisible:!1,nonLazyWidths:[300,400,600,752,1024,1200,1504,2048,2400]}},computed:{blockMediaParams:function(){return{block:this.block,mediaId:this.mediaId}},media:function(){var t;return null===(t=n.c.get(this.blockMediaParams))||void 0===t?void 0:t.media},userUpload:function(){var t;return null===(t=n.c.get(this.blockMediaParams))||void 0===t?void 0:t.userUpload},width:function(){var t;return(null===(t=this.media)||void 0===t?void 0:t.width)||320},height:function(){var t;return(null===(t=this.media)||void 0===t?void 0:t.height)||240},containerAspectRatio:function(){return this.aspectRatio||this.mediaAspectRatio},mediaAspectRatio:function(){return n.c.aspect(this.blockMediaParams)},mediaUrl:function(){return n.c.url(this.blockMediaParams)},stillMediaUrl:function(){var t=n.c.url(f(f({},this.blockMediaParams),{},{isStill:!0}));return t.includes("blob:")?"":t},autoFitClass:function(){return this.mediaAspectRatio>this.containerAspectRatio?"auto-height":"auto-width"},mediaContentObject:function(){return Object.keys(this.contentObject).length?this.contentObject:this.block.content},isMediaLoading:function(){return!!this.media&&!this.isMediaLoaded},isMediaLazy:function(){return!this.isEditing&&!this.preventLazyLoad},videoSrc:function(){if(!this.isMounted)return n.c.url(this.blockMediaParams);var t=this.$el.offsetWidth;return n.c.url(f(f({},this.blockMediaParams),{},{elementWidth:t}))},shouldVideoPlay:function(){return!this.isStillVideo&&this.isVisible&&this.mediaContentObject.shouldVideoAutoplay},imageProps:function(){var t,e={refId:null===(t=this.media)||void 0===t?void 0:t.id,class:"content-block border-radius-8",altImageText:this.mediaContentObject.alt,height:this.height,width:this.width},i=this.stillMediaUrl||this.mediaUrl;if(this.isEditing)return f({src:i,isLazyLoaded:!1},e);if(this.preventLazyLoad){var a="cover"===this.objectFit?this.containerAspectRatio:this.mediaAspectRatio;return f({src:Object(r.b)({mediaUrl:i,width:752}),srcSet:Object(r.d)({mediaUrl:i,aspectRatio:a,widths:this.nonLazyWidths}),sizes:this.block.content.isFullWidth?"(max-width: 767px) 100vw, (max-width: 919px) calc(100vw - 32px), (max-width: 1278px) calc(100vw - 240px), 1024px":"(max-width: 788px) calc(100vw - 32px), 752px",isLazyLoaded:!1},e)}return f({dataSrc:Object(r.c)({mediaUrl:i,appendHeight:!0}),dataAspectRatio:this.objectFit===n.l?this.mediaAspectRatio:this.containerAspectRatio,isLazyLoaded:!0},e)}},mounted:function(){this.isMounted=!0},methods:{updateVisibility:function(t){this.isVisible=t.isIntersecting},setMediaLoaded:function(){this.isMediaLoaded=!0}}},g=(i(676),Object(l.a)(v,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"block-media-wrapper",style:{aspectRatio:t.containerAspectRatio.toString()}},[t.media?i("observer",{class:"block-media "+t.objectFit+" "+t.autoFitClass+" "+(t.isMediaLazy&&"is-lazy"),style:{aspectRatio:("cover"===t.objectFit?t.containerAspectRatio:t.mediaAspectRatio).toString(),"--object-fit":t.objectFit},attrs:{threshold:[.5]},on:{"on-change":t.updateVisibility}},[t.isMediaLoading?i("media-skeleton-provider",{staticClass:"skeleton-wrapper"}):t._e(),t._v(" "),t.media.type===t.MEDIA_IMAGE_TYPE?i("v-img",t._b({on:{"image-load":t.setMediaLoaded}},"v-img",t.imageProps,!1)):t.media.type===t.MEDIA_VIDEO_TYPE&&t.isStillVideo&&t.stillMediaUrl?[i("v-img",t._b({on:{"image-load":t.setMediaLoaded}},"v-img",t.imageProps,!1))]:t.media.type===t.MEDIA_VIDEO_TYPE?[i("v-video",{staticClass:"video-container",class:{"is-loaded":!t.isMediaLoading},attrs:{src:t.videoSrc,"is-looped":t.mediaContentObject.shouldVideoLoop,"should-play":t.shouldVideoPlay,"should-autoplay":t.shouldVideoPlay,"control-type":"custom","should-use-custom-progress-bar":""},on:{"video-load":t.setMediaLoaded}})]:t._e()],2):t._e()],1)}),[],!1,null,"2ed42eed",null));e.a=g.exports},574:function(t,e,i){},578:function(t,e,i){},579:function(t,e,i){},673:function(t,e,i){"use strict";i(574)},675:function(t,e,i){"use strict";i(578)},676:function(t,e,i){"use strict";i(579)},92:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return s}));var a=function(t,e){var i=e||window.location,a=RegExp("[?&]".concat(t,"=([^&]*)")).exec(i.search);return a&&decodeURIComponent(a[1].replace(/\+/g," "))},o=function(t,e){var i=t.split("?");if(i.length>=2){for(var a="".concat(encodeURIComponent(e),"="),o=i[1].split(/[&;]/g),s=o.length;s-- >0;)-1!==o[s].lastIndexOf(a,0)&&o.splice(s,1);return i[0]+(o.length>0?"?".concat(o.join("&")):"")}return t},s=function(t,e){var i=new URL(t);return Object.keys(e).forEach((function(t){i.searchParams.append(t,e[t])})),"".concat(t).concat(i.search)}}}]);
//# sourceMappingURL=112.c9b99e8444640a4b2b79.js.map